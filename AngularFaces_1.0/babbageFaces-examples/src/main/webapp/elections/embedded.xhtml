<html xmlns="http://www.w3c.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html" xmlns:prime="http://primefaces.org/ui"
  xmlns:ui="http://java.sun.com/jsf/facelets"
>
 <ui:composition>
  <body>
    <h2>BabbageFaces elections demo</h2>
    <h:panelGrid columns="2" id="electionMenuID">
      <h:panelGroup>
        <h:form>
          <prime:menu>
            <prime:submenu label="Edit">
              <prime:menuitem value="Countries" action="#{electionController.editCountriesAction}" update="@form:@parent:@parent:@parent">
              </prime:menuitem>
              <prime:menuitem value="Parties" action="#{electionController.editPartiesAction}" update="@form:@parent:@parent:@parent">
              </prime:menuitem>
              <prime:menuitem value="Elections" action="#{electionController.editElectionsAction}" update="@form:@parent:@parent:@parent">
              </prime:menuitem>
            </prime:submenu>
            <prime:submenu label="Charts">
              <prime:menuitem value="History" action="#{electionController.electionHistoryChartAction}" update="@form:@parent:@parent:@parent">
              </prime:menuitem>
              <prime:menuitem value="Single election" action="#{electionController.singleElectionChartAction}"
                update="@form:@parent:@parent:@parent"
              >
              </prime:menuitem>
            </prime:submenu>
            <ui:remove>
              <!-- 
                <prime:submenu label="Sandbox">
                  <prime:menuitem value="missing TR" action="#{electionController.missingTDAction()}" update=":electionMenuID :babbageFacesStatistics">
                  </prime:menuitem>
                </prime:submenu>
             -->
            </ui:remove>
          </prime:menu>
        </h:form>
      </h:panelGroup>
      <h:panelGroup id="rightHandSide">
      <prime:messages autoUpdate="true" showDetail="true"></prime:messages>
        <h:panelGroup rendered="#{electionController.countryEditorVisible}" id="countyPanelID">
          <ui:include src="editCountries.xhtml"></ui:include>
        </h:panelGroup>
        <h:panelGroup rendered="#{electionController.partyEditorVisible}" id="partyPanelID">
          <ui:include src="editParties.xhtml"></ui:include>
        </h:panelGroup>
        <h:panelGroup rendered="#{electionController.electionEditorVisible}" id="electionEditorPanelID">
          <ui:include src="editElections.xhtml"></ui:include>
        </h:panelGroup>
        <h:panelGroup rendered="#{electionController.electionHistoryChartVisible}" id="electionHistoryPanelID">
          <ui:include src="electionHistoryChart.xhtml"></ui:include>
        </h:panelGroup>
        <h:panelGroup rendered="#{electionController.singleElectionChartVisible}" id="singleElectionPanelID">
          <ui:include src="singleElectionChart.xhtml"></ui:include>
        </h:panelGroup>
        <ui:remove>
          <!-- 
            <h:panelGroup rendered="#{electionController.missingTDVisible}" id="missingTDPanelID">
              <ui:include src="missingTD.xhtml"></ui:include>
            </h:panelGroup> 
          -->
        </ui:remove>
      </h:panelGroup>
    </h:panelGrid>
    <div id="babbageFacesStatistics"></div>
  </body>
</ui:composition>
</html>
